import discord
from discord.ext import commands
from datetime import datetime

class Events(commands.Cog):
    def __init__(self, client):
        self.client = client
        self.events = {}  # Dictionary to store events

    @commands.Cog.listener()
    async def on_ready(self):
        print("Events cog ready!")

    @commands.command()
    async def events(self, ctx):
        await ctx.send("Please enter the event name:")
        event_name = await self.client.wait_for('message', check=lambda message: message.author == ctx.author)

        await ctx.send("Please enter the date and time (YYYY-MM-DD HH:MM):")
        date_time_str = await self.client.wait_for('message', check=lambda message: message.author == ctx.author)

        date_time = datetime.strptime(date_time_str.content, '%Y-%m-%d %H:%M')

        await ctx.send("Does the event repeat weekly? (yes/no):")
        repeat = await self.client.wait_for('message', check=lambda message: message.author == ctx.author)
       
        self.events[event_name.content] = {
            'date_time': date_time,
            'repeat': repeat.content.lower() == 'yes'
        }

        await ctx.send(f"Event '{event_name.content}' added!")

async def setup(client):
    await client.add_cog(Events(client))
